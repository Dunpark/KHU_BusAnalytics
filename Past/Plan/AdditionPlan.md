# 📊 추가 공공데이터 확장 계획서 (AdditionPlan.md)

## 개요

본 문서는 현재 통합 데이터셋(`4개년_통합데이터_추정매출_상주인구_소득소비_길단위인구_점포_영역.csv`)에 **추가로 merge 가능한 공공데이터**를 탐색하고, 이를 활용한 **확장 분석 계획**을 수립합니다.

### 현재 데이터셋의 키(Key) 구조

```
[Join 가능한 키 변수]
├── 기준_년분기_코드: 20211 ~ 20244 (시간 기준)
├── 상권_코드: 1,479개 고유 상권
├── 자치구_코드: 25개 서울시 자치구
├── 행정동_코드: 세부 행정동 단위
└── 서비스_업종_코드: 62개 업종
```

---

## 1. 추가 공공데이터 후보 목록

### 1.1 우선순위 HIGH - 직접 연결 가능

| 순위 | 데이터명 | 데이터 소스 | Join 키 | 추가 인사이트 |
|:---:|----------|------------|---------|--------------|
| **1** | **서울시 상가(상권) 임대료 정보** | 서울열린데이터광장 | 상권_코드, 자치구 | 수익성 분석, 임대료 대비 매출 효율 |
| **2** | **서울시 상가 공실률 현황** | 서울열린데이터광장 | 상권_코드, 자치구 | 상권 쇠퇴 지표, 공실 위험 예측 |
| **3** | **서울시 지하철역 승하차 인원** | 서울열린데이터광장 | 자치구, 행정동 | 대중교통 접근성, 유동인구 보강 |
| **4** | **서울시 버스정류소 승하차 인원** | 서울열린데이터광장 | 자치구, 행정동 | 대중교통 유동인구 |
| **5** | **소상공인 창업·폐업 현황** | 공공데이터포털 | 자치구, 업종 | 창업 경쟁 강도, 생존율 |

### 1.2 우선순위 MEDIUM - 간접 연결 가능

| 순위 | 데이터명 | 데이터 소스 | Join 키 | 추가 인사이트 |
|:---:|----------|------------|---------|--------------|
| **6** | **서울시 생활인구 데이터** | 서울열린데이터광장 | 자치구, 행정동, 시간대 | 시간대별 인구 흐름 상세화 |
| **7** | **서울시 주차장 현황** | 서울열린데이터광장 | 자치구, 행정동 | 접근성, 차량 이용 고객 타깃 |
| **8** | **서울시 관광객 현황** | 서울관광재단 | 자치구, 시기 | 관광특구 매출 설명력 향상 |
| **9** | **서울시 재개발/재건축 현황** | 서울시 도시재생포털 | 자치구, 행정동 | 상권 변화 예측, 젠트리피케이션 |
| **10** | **서울시 아파트 실거래가** | 국토교통부 실거래가 공개시스템 | 자치구, 행정동 | 지역 부동산 가치, 구매력 대리변수 |

### 1.3 우선순위 LOW - 보조적 활용

| 순위 | 데이터명 | 데이터 소스 | Join 키 | 추가 인사이트 |
|:---:|----------|------------|---------|--------------|
| **11** | 서울시 CCTV 설치 현황 | 서울열린데이터광장 | 자치구, 행정동 | 안전성 지표 |
| **12** | 서울시 가로등 현황 | 서울열린데이터광장 | 자치구, 행정동 | 야간 상권 활성도 |
| **13** | 서울시 축제/이벤트 일정 | 서울문화포털 | 자치구, 날짜 | 특수 이벤트 효과 |
| **14** | 기상청 날씨 데이터 | 기상청 | 날짜 | 날씨별 매출 영향 |

---

## 2. 상세 데이터 수집 계획

### 2.1 [우선순위 1] 서울시 상가 임대료 정보

#### 📌 데이터 개요
| 항목 | 내용 |
|------|------|
| **데이터명** | 서울시 상가(상권)정보 |
| **출처** | 서울열린데이터광장 (data.seoul.go.kr) |
| **URL** | https://data.seoul.go.kr/dataList/OA-16074/S/1/datasetView.do |
| **갱신 주기** | 분기별 |
| **형식** | CSV, API |

#### 🔑 Join 전략
```
현재 데이터                          추가 데이터
─────────────                    ─────────────
기준_년분기_코드      ←──JOIN──→    기준연도, 기준분기
상권_코드            ←──JOIN──→    상권_코드
서비스_업종_코드      ←──JOIN──→    업종_코드
```

#### 📊 예상 추가 변수
- `평균_임대료_만원`: 상권 내 평균 임대료
- `임대료_증감률`: 전분기 대비 변화율
- `임대료_구간`: 고/중/저 임대료 구간

#### 💡 분석적 가치
```
[기존 분석]
매출 = f(점포수, 유동인구, 소득, ...)

[확장 분석]
수익성 = 매출 - 임대료
→ "고매출 but 고임대료" vs "저매출 but 저임대료" 상권 비교
→ 임대료 대비 매출 효율이 높은 최적 입지 도출
```

---

### 2.2 [우선순위 2] 서울시 상가 공실률 현황

#### 📌 데이터 개요
| 항목 | 내용 |
|------|------|
| **데이터명** | 서울시 소규모 상가 공실률 현황 |
| **출처** | 서울열린데이터광장 |
| **URL** | https://data.seoul.go.kr/dataList/OA-15571/S/1/datasetView.do |
| **갱신 주기** | 반기별 |
| **형식** | CSV |

#### 🔑 Join 전략
```
현재 데이터                          추가 데이터
─────────────                    ─────────────
자치구_코드          ←──JOIN──→    자치구명
기준_년분기_코드      ←──JOIN──→    기준년도, 기준분기
(상권_코드)          ←─ 근사 ─→    (동 단위로 매칭)
```

#### 📊 예상 추가 변수
- `공실률_퍼센트`: 해당 지역 상가 공실률
- `공실_변화`: 전기 대비 증감

#### 💡 분석적 가치
```
[확장 분석]
• 공실률과 폐업률의 상관관계 검증
• 공실률 높은 지역 → "쇠퇴 상권" 분류 근거 강화
• 공실률 예측 모델 → 선제적 정책 제안
```

---

### 2.3 [우선순위 3] 서울시 지하철역 승하차 인원

#### 📌 데이터 개요
| 항목 | 내용 |
|------|------|
| **데이터명** | 서울시 지하철 호선별 역별 시간대별 승하차 인원 정보 |
| **출처** | 서울열린데이터광장 |
| **URL** | https://data.seoul.go.kr/dataList/OA-12914/S/1/datasetView.do |
| **갱신 주기** | 월별 |
| **형식** | CSV |

#### 🔑 Join 전략
```
[2단계 매칭 필요]

Step 1: 역명 → 행정동 매핑 테이블 생성
Step 2: 행정동 기준으로 현재 데이터와 Join

현재 데이터                          추가 데이터
─────────────                    ─────────────
행정동_코드          ←──JOIN──→    역명 → 행정동 매핑
기준_년분기_코드      ←──JOIN──→    사용월
```

#### 📊 예상 추가 변수
- `역_승차_인원`: 가장 가까운 지하철역 월 승차 인원
- `역_하차_인원`: 월 하차 인원
- `역_유동인구`: 승차 + 하차 합계

#### 💡 분석적 가치
```
[확장 분석]
• 기존 "총_유동인구_수"와의 상관 검증
• 지하철 유동인구가 특히 중요한 업종 식별
• "역세권 상권" vs "비역세권" 매출 차이 분석
```

---

### 2.4 [우선순위 5] 소상공인 창업·폐업 현황

#### 📌 데이터 개요
| 항목 | 내용 |
|------|------|
| **데이터명** | 소상공인시장진흥공단_상가(상권)정보 |
| **출처** | 공공데이터포털 (data.go.kr) |
| **URL** | https://www.data.go.kr/data/15083033/fileData.do |
| **갱신 주기** | 분기별 |
| **형식** | CSV |

#### 🔑 Join 전략
```
현재 데이터                          추가 데이터
─────────────                    ─────────────
자치구_코드          ←──JOIN──→    시군구코드
서비스_업종_코드      ←──JOIN──→    상권업종대분류코드
기준_년분기_코드      ←──JOIN──→    기준년월
```

#### 📊 예상 추가 변수
- `신규_창업_수`: 해당 지역/업종 신규 창업 수
- `폐업_수_상세`: 폐업 점포 상세 수치
- `업종_경쟁_강도`: 동일 업종 창업/폐업 비율

#### 💡 분석적 가치
```
[확장 분석]
• 현재 데이터의 "폐업_점포_수" 품질 보강
• 업종별 생존율 = (1 - 폐업수/총점포수) 계산
• 경쟁 강도와 매출의 관계 분석 (레드오션 vs 블루오션)
```

---

## 3. 통합(Merge) 전략

### 3.1 전체 통합 파이프라인

```
┌─────────────────────────────────────────────────────────────────────┐
│                         현재 통합 데이터셋                            │
│  (283,552건 × 127변수)                                              │
│  키: 기준_년분기, 상권_코드, 서비스_업종_코드                           │
└────────────────────────────┬────────────────────────────────────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
        ▼                    ▼                    ▼
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│  임대료 데이터 │    │  공실률 데이터 │    │ 지하철 데이터  │
│  Join Key:   │    │  Join Key:   │    │  Join Key:   │
│  상권_코드,   │    │  자치구_코드,  │    │  행정동_코드   │
│  년분기      │    │  년도        │    │  (매핑필요)   │
└──────┬───────┘    └──────┬───────┘    └──────┬───────┘
       │                   │                   │
       └───────────────────┼───────────────────┘
                           │
                           ▼
              ┌─────────────────────────┐
              │   확장 통합 데이터셋      │
              │  (예상: 283,552건 × 135+)│
              └─────────────────────────┘
```

### 3.2 Join 시 주의사항

| 이슈 | 설명 | 해결 방안 |
|------|------|----------|
| **키 불일치** | 상권_코드 체계가 다를 수 있음 | 상권명 + 자치구로 fuzzy matching |
| **시점 불일치** | 갱신 주기가 다름 (월/분기/반기) | 분기 단위로 집계 후 join |
| **결측 발생** | 일부 상권/지역에 추가 데이터 없음 | Left Join으로 기존 데이터 유지 |
| **단위 차이** | 상권 vs 행정동 vs 자치구 | 적절한 집계 수준 선택 |

### 3.3 Join 코드 템플릿 (Python)

```python
# 1. 임대료 데이터 Join
df_rent = pd.read_csv('임대료데이터.csv')
df_merged = df.merge(
    df_rent[['상권_코드', '기준_년분기', '평균_임대료']],
    on=['상권_코드', '기준_년분기_코드'],
    how='left'
)

# 2. 공실률 데이터 Join (자치구 단위)
df_vacancy = pd.read_csv('공실률데이터.csv')
df_vacancy['기준_년'] = df_vacancy['기준년도']
df_merged = df_merged.merge(
    df_vacancy[['자치구_코드', '기준_년', '공실률']],
    left_on=['자치구_코드', df_merged['기준_년분기_코드']//10],
    right_on=['자치구_코드', '기준_년'],
    how='left'
)

# 3. 지하철 데이터 Join (행정동 매핑 필요)
station_dong_map = pd.read_csv('역_행정동_매핑.csv')
df_subway = pd.read_csv('지하철승하차.csv')
df_subway = df_subway.merge(station_dong_map, on='역명')
df_subway_agg = df_subway.groupby(['행정동_코드', '기준월'])['승하차_합계'].sum()
# ... 이후 merge
```

---

## 4. 확장 분석 아이디어

### 4.1 임대료 데이터 활용 분석

#### 분석 1: 임대료 효율 분석
```
[연구 질문]
"임대료 대비 매출 효율이 높은 상권/업종은 어디인가?"

[분석 방법]
• 임대료_효율 = 당월_매출_금액 / 평균_임대료
• 업종별, 상권유형별 효율 비교
• 고효율 상권의 특성 프로파일링

[비즈니스 가치]
→ 예비 창업자에게 "가성비 좋은 입지" 추천
```

#### 분석 2: 젠트리피케이션 위험 탐지
```
[연구 질문]
"임대료 상승률이 높고 폐업이 증가하는 젠트리피케이션 위험 상권은?"

[분석 방법]
• 임대료_상승률 × 폐업_증가율 → 위험 지수
• 위험 상권 클러스터링
• 로지스틱 회귀로 위험 요인 도출

[비즈니스 가치]
→ 정책 입안자에게 선제적 지원 대상 상권 제안
```

---

### 4.2 공실률 데이터 활용 분석

#### 분석 3: 상권 쇠퇴 조기 경보
```
[연구 질문]
"공실률로 상권 쇠퇴를 예측할 수 있는가?"

[분석 방법]
• 공실률 → 6개월 후 매출 변화 예측 (시계열)
• 공실률 임계값 도출 (예: 10% 초과 시 쇠퇴 시작)
• 공실률 + 기타 변수 → 쇠퇴 예측 모델

[비즈니스 가치]
→ 사업자에게 "이 상권 떠날 타이밍" 신호 제공
```

---

### 4.3 교통 데이터 활용 분석

#### 분석 4: 역세권 프리미엄 분석
```
[연구 질문]
"지하철역 유동인구가 상권 매출에 미치는 영향은?"

[분석 방법]
• 역 유동인구 상위 25% = 역세권 정의
• 역세권 vs 비역세권 매출 차이 t-test
• 업종별 역세권 효과 차이 (상호작용)

[비즈니스 가치]
→ "역세권이 특히 중요한 업종" 식별
→ 역세권 프리미엄 정량화
```

---

### 4.4 AnalysisPlan.md와의 연결

| AnalysisPlan 단계 | 추가 데이터 활용 |
|------------------|----------------|
| **Phase 1: 군집 분석** | 임대료, 공실률을 군집 변수로 추가 → 상권 유형 세분화 |
| **Phase 2: 회귀 분석** | 임대료, 지하철 유동인구를 설명변수 추가 → R² 향상 |
| **Phase 2: 분류 분석** | 공실률을 "쇠퇴 상권" 분류의 보조 타깃으로 활용 |
| **Phase 3: 입지 분석** | 임대료 효율로 "가성비 입지" 개념 추가 |
| **Evaluation** | ROI 추정 시 임대료 반영 가능 |

---

## 5. 데이터 수집 실행 계획

### 5.1 단계별 실행 일정

| 단계 | 데이터 | 작업 내용 | 예상 소요 |
|:---:|--------|----------|----------|
| **1** | 임대료 | 서울열린데이터광장에서 다운로드, 전처리, Join | 1일 |
| **2** | 공실률 | 다운로드, 자치구 단위 집계, Join | 0.5일 |
| **3** | 지하철 | 다운로드, 역-행정동 매핑 생성, Join | 1일 |
| **4** | 창업/폐업 | 공공데이터포털에서 다운로드, 업종 매핑, Join | 1일 |
| **5** | 통합 검증 | 결측치 확인, 데이터 품질 검증 | 0.5일 |

### 5.2 데이터 수집 체크리스트

- [ ] 서울열린데이터광장 회원가입 및 API 키 발급
- [ ] 임대료 데이터 다운로드 및 구조 확인
- [ ] 공실률 데이터 다운로드 및 구조 확인
- [ ] 지하철 승하차 데이터 다운로드
- [ ] 역명 ↔ 행정동 매핑 테이블 생성
- [ ] 공공데이터포털 창업/폐업 데이터 다운로드
- [ ] 모든 데이터 Join 및 통합 데이터셋 생성
- [ ] 결측치 현황 확인 및 처리 방안 결정

---

## 6. 기대 효과 및 한계

### 6.1 기대 효과

| 측면 | 기대 효과 |
|------|----------|
| **분석 깊이** | 단순 매출 분석 → 수익성(매출-임대료) 분석으로 확장 |
| **예측력** | 추가 변수로 회귀 모델 R² 향상 예상 |
| **인사이트** | 젠트리피케이션, 역세권 효과 등 새로운 발견 가능 |
| **평가 점수** | "다양한 데이터 활용" → 창의성/테크닉 점수 향상 |
| **실용성** | 실제 창업 의사결정에 더 유용한 가이드 제공 |

### 6.2 한계 및 주의사항

| 한계 | 설명 | 대응 |
|------|------|------|
| **시간 제약** | 모든 데이터 수집 시 일정 초과 가능 | 우선순위 1~2 집중 |
| **Join 실패** | 키 불일치로 결측 다수 발생 가능 | 결측 허용 범위 설정 (예: 20% 이하) |
| **데이터 품질** | 공공데이터 품질이 불균일할 수 있음 | 사전 EDA로 품질 확인 |
| **분석 복잡도** | 변수 너무 많아지면 해석 어려움 | 변수 선택 기법 적용 |

---

## 7. 결론

### 📌 핵심 추천: 우선순위 TOP 3 데이터

1. **임대료 데이터** → 수익성 분석의 핵심, Join 용이
2. **공실률 데이터** → 쇠퇴 지표 강화, 예측 모델 보강
3. **지하철 유동인구** → 접근성 분석, 역세권 효과

### 📌 확장 분석 핵심 아이디어

1. **임대료 효율 분석** → 가성비 입지 추천
2. **젠트리피케이션 탐지** → 정책 제안
3. **역세권 프리미엄 정량화** → 업종별 차별화

### 📌 AnalysisPlan과의 시너지

- Phase 1 군집에 임대료/공실률 변수 추가 → 상권 유형 세분화
- Phase 2 회귀에 교통 변수 추가 → 설명력 향상
- Phase 3 입지 분석에 수익성 개념 추가 → 실용적 추천

---

*본 확장 계획은 프로젝트 기본 분석 완료 후, 시간 여유에 따라 선택적으로 적용할 수 있습니다.*
*우선순위에 따라 1~2개 데이터만 추가해도 분석 가치가 크게 향상됩니다.*

